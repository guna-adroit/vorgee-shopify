{% if product.title contains 'lens' %}
  <div class="">
    <button class=" btn button fit-indicator-btn" id="fit-indicator-btn">Fit Indicator</button>
  </div>
{% endif %}

<div id="fit-indicator-modal" class="fit-indicator-modal-overlay" style="display:none;">
  <div class="fit-indicator-modal-content">
    <span class="fit-indicator-close-button" id="close-fit-indicator">&times;</span>
    
    {% assign fit_indicator_page = pages['fit-indicator'] %}
    
    <div class="fit-indicator-content">
      {% comment %} <h4>{{ fit_indicator_page.title }}</h4> {% endcomment %}
      <div>{{ pages['fit-indicator'].content }}</div>
    </div>
    
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const fitIndicatorTrigger = document.getElementById('fit-indicator-btn');
    const modal = document.getElementById('fit-indicator-modal');
    const closeBtn = document.getElementById('close-fit-indicator');

    fitIndicatorTrigger.addEventListener('click', function () {
      modal.style.display = 'flex';
    });

    closeBtn.addEventListener('click', function () {
      modal.style.display = 'none';
    });

    window.addEventListener('click', function (event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
  });
</script>

{% schema %}
{
  "name": "Fit Indicator",
  "tag": null,
  "settings": [
    {
      "type": "liquid",
      "id": "custom_liquid",
      "label": "t:settings.custom_liquid",
      "info": "t:info.custom_liquid"
    }
  ],
  "presets": [
    {
      "name": "Fit Indicator",
      "category": "Product"
    }
  ]
}
{% endschema %}
