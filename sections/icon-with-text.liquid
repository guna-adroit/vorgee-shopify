<style>
        .vorgee-icon-text-container{
            display: grid;
            grid-template-columns: repeat({{ section.settings.columns }}, 1fr);
            text-align: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        .vorgee-icon-text-title{
            text-align:center;
            padding: 20px 0;
            max-width: 600px;
            margin: 0 auto;
        }
        .vorgee-icon-text-item{
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .vorgee-icon-text-item img{
            width: 72px;
            height: 72px;
            object-fit: contain;
            aspect-ratio: unset;
        }
        .vorgee-icon-text-item .placeholder-image{
            width: 72px;
        }
        @media screen and (max-width: 768px){
            .vorgee-icon-text-container{
                display: grid;
                grid-template-columns: repeat({{ section.settings.columns_mobile }}, 1fr);
            }
        }
    </style>
    <div class="vorgee-icon-text-wrapper section page-width-content {{ section.settings.custom_class }}">
        <div class="vorgee-icon-text-title">{{ section.settings.title }}</div>
        <div class="vorgee-icon-text-container">
            {% for block in section.blocks %}
              <div class="vorgee-icon-text-item">
                {% if block.settings.image != blank %}
                  {{ block.settings.image | image_url: width: 250 | image_tag  }}
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'placeholder-image' }}
                {% endif %}
                {% if block.settings.title != blank %}
                  <h3 class="vorgee-icon-text_title">{{ block.settings.title }}</h3>
                {% endif %}
                <p>{{ block.settings.description }}</p>
              </div>
            {% endfor %}
            
        </div>
    </div>

{% schema %}
{
  "name": "Icon with Text",
  "class": "section-wrapper",
  "tag": "section",
  "settings": [
    {
        "type": "richtext",
        "id": "title",
        "label": "Title",
        "default": "<h2>Title</h2>"
    },
    {
        "type": "range",
        "id": "columns",
        "label": "Columns per row",
        "min": 1,
        "max": 8,
        "step": 1,
        "default": 3
    },
    {
      "type": "range",
      "id": "columns_mobile",
      "label": "Columns per row - Mobile",
      "min": 1,
      "max": 3,
      "step": 1,
      "default": 1
    },
    {
      "type": "text",
      "id": "custom_class",
      "label": "Custom class"
    }
  ],
  "blocks": [
    {
        "type": "icon_text",
        "name": "Icon Text",
        "settings": [
            {
                "type": "image_picker",
                "id": "image",
                "label": "Image"
            },
            {
                "type": "text",
                "id": "title",
                "label": "Title",
                "default": "Welcome to my shop!"
            },
            {
                "type": "textarea",
                "id": "description",
                "label": "Welcome message",
                "default": "Welcome to my shop!"
            }
        ]   
    }
  ],
  "presets": [
    {
        "name": "Icon with Text"
    }
  ]
}
{% endschema %} 