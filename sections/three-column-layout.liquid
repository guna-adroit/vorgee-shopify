<style>
.three-column-section .columns-wrapper {
  display: flex;
  gap: 2rem;
  padding: 2rem 0;
}
.three-column-section .column-item {
  width: calc(33.3% - 2rem);
}
.three-column-section .column-item.slider {
  width: 100%;
}
.three-column-section .column-item img {
  max-width: 100%;
  height: auto;
  aspect-ratio: auto;
  border-radius: 0;
}
.three-column-section .column-title {
  margin: 1rem 0 0.5rem;
  font-weight: 600;
  font-size: 30px;
  line-height: 32px;
}
.three-column-section .column-description {
  font-weight: 300;
  font-size: 18px;
  line-height: 28px;
  margin-bottom: 1rem;
  color: #585858;
}

</style>

<div class="three-column-section section section--page-width color-scheme-1">
  <div class="columns-wrapper">
    {% for block in section.blocks %}
      <div class="column-item" {{ block.shopify_attributes }}>
        {% if block.settings.image %}
          <img src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.title | escape }}">
        {% endif %}
        <h3 class="column-title">{{ block.settings.title }}</h3>
        <p class="column-description">{{ block.settings.description }}</p>
        {% if block.settings.button_text and block.settings.button_link %}
          <a class="more-button custom-btn-link" href="{{ block.settings.button_link }}">
            {{ block.settings.button_text }}
            <span class="icon-round">
              {{ 'icon-chevron-right.svg' | inline_asset_content }}
            </span>
          </a>
        {% endif %}
      </div>
    {% endfor %}
  </div>
  {% capture list_items %}
    {% for block in section.blocks %}
      <div class="column-item slider" {{ block.shopify_attributes }}>
        {% if block.settings.image %}
          <img src="{{ block.settings.image | image_url: width: 600 }}" alt="{{ block.settings.title | escape }}">
        {% endif %}
        <h3 class="column-title">{{ block.settings.title }}</h3>
        <p class="column-description">{{ block.settings.description }}</p>
        {% if block.settings.button_text and block.settings.button_link %}
          <a class="more-button custom-btn-link" href="{{ block.settings.button_link }}">
            {{ block.settings.button_text }}
            <span class="icon-round">
              {{ 'icon-chevron-right.svg' | inline_asset_content }}
            </span>
          </a>
        {% endif %}
      </div>
      {% unless forloop.last %}
        <!--@list/split-->
      {% endunless %}
    {% endfor %}
  {% endcapture %}
  {% liquid
    # Create an array from the list items to be used for different layout types
    assign list_items_array = list_items | strip | split: '<!--@list/split-->'
  %}
  {% render 'resource-list-carousel',
          ref: 'collectionListCarousel',
          slides: list_items_array,
          settings: section.settings,
          slide_width_max: '450px'
        %}
</div>
{% schema %}
{
  "name": "Three Column Blocks",
  "tag": "section",
  "class": "three-column-section",
  "settings": [],
  "blocks": [
    {
      "type": "column",
      "name": "Column",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Block Title"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Block description goes here."
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "Learn More"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Three Column Blocks",
      "category": "Custom"
    }
  ]
}
{% endschema %}
